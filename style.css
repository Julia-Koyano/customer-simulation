<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>сѓФсЃЋсѓДсѓ▓сЃ╝сЃа</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="background">
    <div class="top-stripes"></div>

  <div class="back-to-home">
   <a href="index.html" class="home-button">
     <img src="bookmark.png" alt="Home" />
     <span class="home-label">HOME</span>
   </a>
  </div>


    <div class="header">
      <h1>сЃгсѓисЃћсѓ▓сЃ╝сЃа</h1>
      <p>Have fun learning recipes as you play!</p>
    </div>

  

  <button onclick="setRandomOrder()">Take an order</button>

  <div id="customer">сЂіт«бсЂЋсѓЊсђїсѓФсЃЋсѓДсЃЕсЃєсЂЈсЂасЂЋсЂёсђЇ</div>
  <div id="cup">сѓФсЃЃсЃЌ: </div>

    <!-- СИЅТ«хуЏ« -->
  <div class="row" id="serve-row">
    <button onclick="serveDrink()">ТЈљСЙЏсЂЎсѓІ</button>
    <div id="status"></div>
  </div>

  <!-- СИђТ«хуЏ« -->
  <div class="row">
    <div class="section-box">
     <div class="section-label">Coffee</div>
     <button onclick="addToCup('hotCoffee')">сЃЏсЃЃсЃѕсѓ│сЃ╝сЃњсЃ╝</button>
     <button onclick="addToCup('icedCoffee')">сѓбсѓцсѓ╣сѓ│сЃ╝сЃњсЃ╝</button>
    </div>

      <!-- сѓесѓ╣сЃЌсЃгсЃЃсѓйсЃъсѓисЃ│ -->
   <div class="section-box">
     <div class="section-label">РўЋ сѓесѓ╣сЃЌсЃгсЃЃсѓйсЃъсѓисЃ│</div>
     <button onclick="startExtraction('espresso')" id="espressoBtn">сѓесѓ╣сЃЌсЃгсЃЃсѓйТійтЄ║</button>
     <button onclick="startExtraction('cafeLatte')" id="latteBtn">сѓФсЃЋсѓДсЃЕсЃєТійтЄ║</button>
     <div id="extractedContainer"></div>
   </div>

  </div>


<!-- С║їТ«хуЏ«№╝ѕсѓ╣сЃЂсЃ╝сЃасЃ╗Т░исЂфсЂЕ№╝Ѕ -->
<div class="row">

       <!-- тєиУћхт║Ф -->
   <div class="section-box">
     <div class="section-label">­ЪДі тєиУћхт║Ф</div>
     <button onclick="addToCup('milk')">сЃЪсЃФсѓ»</button>
     <button onclick="addToCup('soyMilk')">У▒єС╣│</button>
     <button onclick="addToCup('icedTea')">сѓбсѓцсѓ╣сЃєсѓБсЃ╝</button>
   </div>

  <div class="section-box">
    <div class="section-label"> </div>
    <button onclick="steamMilk()">сѓ╣сЃЂсЃ╝сЃа</button>
    <button onclick="addToCup('ice')">Т░и</button>
    <button onclick="addToCup('hotWater')">сЂіТ╣»</button>
  </div>

  </div>
    
<div class="row">
     <!-- сЃѕсЃЃсЃћсЃ│сѓ░ -->
  <div class="section-box">
    <div class="section-label"> </div>
    <button onclick="addToCup('straw')">сѓ╣сЃѕсЃГсЃ╝</button>
    <button onclick="addToCup('saucer')">сѓйсЃ╝сѓхсЃ╝</button>
    <button onclick="addToCup('spoon')">сѓ╣сЃЌсЃ╝сЃ│</button>
    <button onclick="setTakeout(true)">сЃєсѓцсѓ»сѓбсѓдсЃѕ</button>
  </div>

  <div class="section-box">
    <div class="section-label">TeaBag</div>
    <button onclick="addToCup('teaBag')">УїХУЉЅ</button>
    <button onclick="addToCup('milkTeaBag')">сЃЪсЃФсѓ»ућеУїХУЉЅ</button>
 </div>

</div>

  <script>
    let cup = [];
    let extractedItems = {};
    let currentOrder = 'cafeLatte';

const correctOrders = {
  cafeLatte: { items: ['cafeLatte', 'saucer', 'spoon'], takeout: false },
  icedCafeLatte: { items: ['ice', 'milk', 'espresso', 'straw'], takeout: false },
  soyLatte: { items: ['hotSoyMilk', 'espresso', 'saucer', 'spoon'], takeout: false },
  icedSoyLatte: { items: ['ice', 'soyMilk', 'icedCoffee', 'straw'], takeout: false },
  hotCoffee: { items: ['hotCoffee', 'saucer', 'spoon'], takeout: false },
  icedCoffee: { items: ['ice', 'icedCoffee', 'straw'], takeout: false },
  hotTea: {items: ['teaBag', 'hotWater', 'saucer', 'spoon']},
  icedTea: { items: ['ice', 'icedTea', 'straw'], takeout: false },
  milkTea: {items: ['milkTeaBag', 'hotWater', 'hotMilk', 'saucer', 'spoon'], takeout: false },
  soyMilkTea: {items: ['milkTeaBag', 'hotWater', 'hotSoyMilk', 'saucer', 'spoon'], takeout: false },

  takeoutCafeLatte: { items: ['cafeLatte'], takeout: true },
  takeoutIcedCafeLatte: { items: ['ice', 'milk', 'espresso', 'straw'], takeout: true },
  takeoutSoyLatte: { items: ['hotSoyMilk', 'espresso'], takeout: true },
  takeoutIcedSoyLatte: { items: ['ice', 'soyMilk', 'icedCoffee', 'straw'], takeout: true },
  takeoutHotCoffee: { items: ['hotCoffee'], takeout: true },
  takeoutIcedCoffee: { items: ['ice', 'icedCoffee', 'straw'], takeout: true },
  takeoutHotTea: {items: ['teaBag', 'hotWater'], takeout: true }, 
  takeoutIcedTea: { items: ['ice', 'icedTea', 'straw'], takeout: true },
  takeoutMilkTea: {items: ['milkTeaBag', 'hotWater', 'hotMilk'], takeout: true },
  takeoutSoyMilkTea: {items: ['milkTeaBag', 'hotWater', 'hotSoyMilk'], takeout: true },

};

const orderTexts = {
  cafeLatte: 'сѓФсЃЋсѓДсЃЕсЃєсЂЈсЂасЂЋсЂё',
  icedCafeLatte: 'сѓбсѓцсѓ╣сѓФсЃЋсѓДсЃЕсЃєсЂЈсЂасЂЋсЂё',
  soyLatte: 'У▒єС╣│сЃЕсЃєсЂЈсЂасЂЋсЂё',
  icedSoyLatte: 'сѓбсѓцсѓ╣У▒єС╣│сЃЕсЃєсЂЈсЂасЂЋсЂё',
  hotCoffee: 'сЃЏсЃЃсЃѕсѓ│сЃ╝сЃњсЃ╝сЂЈсЂасЂЋсЂё',
  icedCoffee: 'сѓбсѓцсѓ╣сѓ│сЃ╝сЃњсЃ╝сЂЈсЂасЂЋсЂё',
  hotTea: 'сЃЏсЃЃсЃѕсЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',
  icedTea: 'сѓбсѓцсѓ╣сЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',
  milkTea: 'сЃЪсЃФсѓ»сЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',
  soyMilkTea: 'У▒єС╣│сЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',

  takeoutCafeLatte: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсѓФсЃЋсѓДсЃЕсЃєсЂЈсЂасЂЋсЂё',
  takeoutIcedCafeLatte: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсѓФсЃЋсѓДсЃЕсЃєсЂЈсЂасЂЋсЂё',
  takeoutSoyLatte: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДУ▒єС╣│сЃЕсЃєсЂЈсЂасЂЋсЂё',
  takeoutIcedSoyLatte: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсѓбсѓцсѓ╣У▒єС╣│сЃЕсЃєсЂЈсЂасЂЋсЂё',
  takeoutHotCoffee: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсЃЏсЃЃсЃѕсѓ│сЃ╝сЃњсЃ╝сЂЈсЂасЂЋсЂё',
  takeoutIcedCoffee: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсѓбсѓцсѓ╣сѓ│сЃ╝сЃњсЃ╝сЂЈсЂасЂЋсЂё',
  takeoutHotTea: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсЃЏсЃЃсЃѕсЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',
  takeoutIcedTea: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсѓбсѓцсѓ╣сЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',
  takeoutMilkTea: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДсЃЪсЃФсѓ»сЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',
  takeoutSoyMilkTea: 'сЃєсѓцсѓ»сѓбсѓдсЃѕсЂДУ▒єС╣│сЃєсѓБсЃ╝сЂЈсЂасЂЋсЂё',

};

    let isTakeout = false; // сЃєсѓцсѓ»сѓбсѓдсЃѕсЂІсЂЕсЂєсЂІсЂ«уіХТЁІ

    function setTakeout(flag) {
     isTakeout = flag;
     updateCupDisplay();
    }


    function updateCupDisplay() {
     const cupLabel = isTakeout ? 'сЃєсѓцсѓ»сѓбсѓдсЃѕсѓФсЃЃсЃЌ' : 'сѓФсЃЃсЃЌ';
     document.getElementById('cup').innerText = cupLabel + ': ' + cup.join(', ');
   }

    function addToCup(ingredient) {
      cup.push(ingredient);
      updateCupDisplay();
    }

    function startExtraction(type) {
      const status = document.getElementById('status');
      const btnId = type === 'espresso' ? 'espressoBtn' : 'latteBtn';

      document.getElementById(btnId).disabled = true;
      status.innerText = `РўЋ ${type === 'espresso' ? 'сѓесѓ╣сЃЌсЃгсЃЃсѓй' : 'сѓФсЃЋсѓДсЃЕсЃє'}ТійтЄ║СИГ...`;

      setTimeout(() => {
        status.innerText = `РюЁ ${type === 'espresso' ? 'сѓесѓ╣сЃЌсЃгсЃЃсѓй' : 'сѓФсЃЋсѓДсЃЕсЃє'}сЂїТійтЄ║сЂЋсѓїсЂЙсЂЌсЂЪ№╝Ђ`;
        showExtractedButton(type);
      }, 2000);
    }

    function showExtractedButton(type) {
      if (extractedItems[type]) return;
      extractedItems[type] = true;

      const container = document.getElementById('extractedContainer');
      const btn = document.createElement('button');
      btn.innerText = type === 'espresso' ? 'сѓесѓ╣сЃЌсЃгсЃЃсѓй' : 'сѓФсЃЋсѓДсЃЕсЃє';
      btn.onclick = () => {
        if (!extractedItems[type]) return;
        addToCup(type);
        extractedItems[type] = false;
        btn.remove();
      };

      container.appendChild(btn);
    }

    function steamMilk() {
      const status = document.getElementById('status');
      let index = cup.findIndex(i => i === 'milk' || i === 'soyMilk');

      if (index === -1) {
        status.innerText = 'Рџа сѓ╣сЃЂсЃ╝сЃасЂДсЂЇсѓІсЃЪсЃФсѓ»сЂїтЁЦсЂБсЂдсЂёсЂЙсЂЏсѓЊ';
        return;
      }

      status.innerText = 'сѓ╣сЃЂсЃ╝сЃаСИГРђдРђд';
      setTimeout(() => {
        const original = cup[index];
        cup[index] = original === 'milk' ? 'hotMilk' : 'hotSoyMilk';
        status.innerText = 'РюЁ сѓ╣сЃЂсЃ╝сЃат«їС║є№╝Ђ№╝ѕ' + (cup[index] === 'hotMilk' ? 'сЃЏсЃЃсЃѕсЃЪсЃФсѓ»' : 'сЃЏсЃЃсЃѕУ▒єС╣│') + '№╝Ѕ';
        updateCupDisplay();
      }, 2000);
    }

function serveDrink() {
  const correct = correctOrders[currentOrder];
  const isCorrectItems = JSON.stringify(cup) === JSON.stringify(correct.items);
  const isCorrectTakeout = isTakeout === correct.takeout;

  if (isCorrectItems && isCorrectTakeout) {
    alert('ТГБУДБ№╝ЂТ│еТќЄсЂЕсЂісѓісЂФсЂДсЂЇсЂЙсЂЌсЂЪ№╝Ђ');
  } else {
    const cupType = correct.takeout ? 'сЃєсѓцсѓ»сѓбсѓдсЃѕсѓФсЃЃсЃЌ' : 'сѓФсЃЃсЃЌ';
    const correctItems = correct.items.join(', ');
    alert(`сЂАсЂїсЂёсЂЙсЂЎ№╝ЂсѓёсѓіуЏ┤сЂЌсЂдсЂГ\n\nТГБсЂЌсЂёсЃгсѓисЃћсЂ»№╝џ\n${cupType} сЂФ ${correctItems}`);
  }

  cup = [];
  isTakeout = false;
  updateCupDisplay();
  document.getElementById('status').innerText = '';
  document.getElementById('espressoBtn').disabled = false;
  document.getElementById('latteBtn').disabled = false;
  document.getElementById('extractedContainer').innerHTML = '';
  extractedItems = {};
}

    function setOrder(order) {
      if (!correctOrders[order]) return;

      currentOrder = order;
      document.getElementById('customer').innerText = `сЂіт«бсЂЋсѓЊсђї${orderTexts[order]}сђЇ`;

      cup = [];
      updateCupDisplay();
      document.getElementById('status').innerText = '';
      document.getElementById('espressoBtn').disabled = false;
      document.getElementById('latteBtn').disabled = false;
      document.getElementById('extractedContainer').innerHTML = '';
      extractedItems = {};
    }

    const orderKeys = Object.keys(correctOrders);
    function setRandomOrder() {
      const randomIndex = Math.floor(Math.random() * orderKeys.length);
      const randomOrder = orderKeys[randomIndex];
      setOrder(randomOrder);
    }

    window.onload = () => {
      setRandomOrder();
    };
  </script>

      <div class="bottom-stripes"></div>
  </div>
</body>
</html>
