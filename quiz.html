<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Êé•ÂÆ¢„ÇØ„Ç§„Ç∫</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="quiz-page">

<div class="background">
    <div class="top-stripes"></div>

  <div class="back-to-home">
   <a href="index.html" class="home-button">
    <img src="bookmark.png" alt="Home" />
    <span class="home-label">HOME</span>
   </a>
  </div>


  <div class="header">
   <h1>Êé•ÂÆ¢„ÇØ„Ç§„Ç∫</h1>
   <p>You can practice customer service phrases in quiz format.</p>
  </div>
  

  <div id="quiz"></div>
  <button id="resetBtn" style="display:none;">Reset</button>

  <script>
    const data = [
      {
        q: 'üë§ „ÅäÂÆ¢„Åï„ÇìÔºö„Äå„Çª„ÉÉ„Éà„ÅØ„ÅÇ„Çä„Åæ„Åô„ÅãÔºü„Äç',
        en: 'Customer: "Do you have any sets?"',
        options: [
  { ja: '„ÅØ„ÅÑ„ÄÅ„Éâ„É™„É≥„ÇØ„ÅÆ„Åø„Å®„Å™„Çä„Åæ„Åô', en:'Yes, drinks only.' },
  { ja: '„É¢„Éº„Éã„É≥„Ç∞„Çª„ÉÉ„ÉàÔºà10ÊôÇ30ÂàÜ„Åæ„ÅßÔºâ„Å®„Éü„É©„Éé„Çµ„É≥„Éâ„Çª„ÉÉ„Éà„Åå„Åî„Åñ„ÅÑ„Åæ„Åô', en: 'We have morning sets (until 10:30) and Milano sandwich sets.' },
  { ja: '„Çª„ÉÉ„Éà„ÅØ„ÇÑ„Å£„Å¶„ÅÑ„Åæ„Åõ„Çì', en: 'We do not offer sets.' }
],
        correct: 1,
        explanation: {ja:'„É¢„Éº„Éã„É≥„Ç∞„Çª„ÉÉ„Éà„Å®„Éü„É©„Éé„Çµ„É≥„Éâ„Çª„ÉÉ„Éà„Åå„ÅÇ„Çã„Åì„Å®„ÇíÊ°àÂÜÖ„Åó„Åæ„Åô„ÄÇ',en:'Let the customer know that we have a morning set (until 10:30) and a Milano sandwich set.'},
        audio: '58 (9).wav'
      },
      {
        q: 'üë§ „ÅäÂÆ¢„Åï„ÇìÔºö„ÄåA„É¢„Éº„Éã„É≥„Ç∞„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„Äç',
        en: 'Customer: "I\'ll have the A Morning Set, please."',
        options: [
  { ja: '„Éü„É©„Éé„Çµ„É≥„ÉâA„Åß„Åô„Å≠', en:  "So, that's Milano Sandwich A, correct?"},
  { ja: '„ÅäÈ£≤„ÅøÁâ©„ÅØ„ÅÑ„Åã„Åå„Å™„Åï„ÅÑ„Åæ„Åô„ÅãÔºü', en: 'What would you like to drink?' },
  { ja: '„Çµ„Ç§„Ç∫„ÅØ„ÅÑ„Åã„Åå„Å™„Åï„ÅÑ„Åæ„Åô„ÅãÔºü', en: 'What size would you like?' }
        ],
        correct: 1,
        explanation:  {ja:'„É¢„Éº„Éã„É≥„Ç∞„Çª„ÉÉ„Éà„ÅØÈ£≤„ÅøÁâ©„ÅÆÈÅ∏Êäû„ÅåÂøÖË¶Å„Å™„ÅÆ„Åß„ÄÅÈ£≤„ÅøÁâ©„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ',en:'The morning set comes with a drink, so we ask which one the customer would like.'},
        audio: '58 (10).wav'
      },
      {
        q: 'üë§ „ÅäÂÆ¢„Åï„ÇìÔºö„Äå„Ç∏„É£„Éº„Éû„É≥„Éâ„ÉÉ„Ç∞„ÅÆ„Çª„ÉÉ„Éà„Åß„Äç',
        en: 'Customer: "I\'ll have the German dog set."',
        options: [
  { ja: '„Åã„Åó„Åì„Åæ„Çä„Åæ„Åó„Åü', en: 'Certainly.' },
  { ja: '„ÅäÈ£≤„ÅøÁâ©„ÅØ„ÅÑ„Åã„Åå„Å™„Åï„ÅÑ„Åæ„Åô„ÅãÔºü', en: 'What would you like to drink?' },
  { ja: '„Åù„Å°„Çâ„ÅØÂçòÂìÅ„ÅÆ„Åø„Å®„Å™„Çä„Åæ„Åô„Åå„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü', en: 'That dish is available √† la carte only. Is that alright?' }
        ],
        correct: 2,
        explanation:  {ja:'„Ç∏„É£„Éº„Éû„É≥„Éâ„ÉÉ„Ç∞„ÅØ„Çª„ÉÉ„Éà„Å´„Åß„Åç„Å™„ÅÑ„ÅÆ„Åß„ÄÅÁ¢∫Ë™ç„ÇíÂèñ„Çä„Åæ„Åô',en:'The morning set comes with a drink, so we ask which one the customer would like.'},
        audio: '58 (11).wav'
      },
    
    ];

    const container = document.getElementById('quiz');
    const resetBtn = document.getElementById('resetBtn');

    function renderQuiz() {
      container.innerHTML = '';
      let correctCount = 0; // „ÇØ„Ç§„Ç∫ÈñãÂßãÊôÇ„Å´„É™„Çª„ÉÉ„Éà
      data.forEach((item, i) => {
        const div = document.createElement('div');
        div.className = 'question';

        const p = document.createElement('p');
        p.textContent = item.q;
        div.appendChild(p);

         // Ëã±Ë®≥„Åå„ÅÇ„ÇãÂ†¥Âêà„Å†„ÅëË°®Á§∫
    if (item.en) {
      const en = document.createElement('p');
      en.textContent = item.en;
      en.style.fontStyle = 'italic'; // Êñú‰Ωì
      en.style.color = '#555'; // ËñÑ„ÇÅ„ÅÆËâ≤
      div.appendChild(en);
    }

item.options
  .map((opt, index) => ({ text: opt.ja, en: opt.en, index }))
  .sort(() => Math.random() - 0.5)
  .forEach(({ text, en, index }) => {
    const btn = document.createElement('button');
    btn.innerHTML = `${text}<br><small style="color:#555;">${en}</small>`;
    btn.onclick = () => {
      const allBtns = div.querySelectorAll('button');
      allBtns.forEach(b => b.disabled = true);
      btn.classList.add(index === item.correct ? 'correct' : 'wrong');
      btn.innerHTML += index === item.correct ? ' ‚úì' : ' ‚úó';
      if (index === item.correct) {
       correctCount++;
      }


const explanation = document.createElement('div');
explanation.className = 'explanation';
explanation.innerHTML = `
  üìù ${item.explanation.ja}<br>
  <small style="color: #555;">${item.explanation.en}</small>`;
div.appendChild(explanation);

      const audio = document.createElement('audio');
      audio.src =  'voice/' + item.audio;
      audio.id = `audio${i}`;
      div.appendChild(audio);

      const playBtn = document.createElement('button');
      playBtn.textContent = 'üîä Ê≠£Ëß£„ÅÆÈü≥Â£∞„ÇíËÅû„Åè';
      playBtn.className = 'audio-btn';
      playBtn.onclick = () => document.getElementById(`audio${i}`).play();
      div.appendChild(playBtn);

if (i === data.length - 1) {
  resetBtn.style.display = 'block';

  const scoreMsg = document.createElement('p');
  scoreMsg.style.fontWeight = 'bold';
  scoreMsg.style.fontSize = '18px';
  scoreMsg.style.marginTop = '24px';
  scoreMsg.textContent = `${data.length}Âïè‰∏≠${correctCount}ÂïèÊ≠£Ëß£„Åß„Åó„ÅüÔºÅ`;
  div.appendChild(scoreMsg);
}

    };
    div.appendChild(btn);
  });

        container.appendChild(div);
      });
    }

    resetBtn.onclick = () => {
      resetBtn.style.display = 'none';
      renderQuiz();
    };

    renderQuiz();
  </script>

  <div class="bottom-stripes"></div>
</div>

</body>
</html>
